<view class="content"><view class="cart-list"><block wx:for="{{goodsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><block wx:if="{{index%2==0}}"><view class="{{['cart-item',(index!==goodsList.length-1)?'b-b':'']}}"><view class="image-wrapper"><image src="{{item.url}}" mode="aspectFill" lazy-load="{{true}}" data-event-opts="{{[['tap',[['previewImage',['$0'],[[['goodsList','',index,'url']]]]]]]}}" bindtap="__e"></image><view class="{{['yticon icon-xuanzhong2 checkbox',(item.checked)?'checked':'']}}" data-index="{{index}}" data-event-opts="{{[['tap',[['proCheck',['$event']]]]]}}" bindtap="__e"></view></view><block wx:if="{{index+1<goodsList.length}}"><view class="image-wrapper" style="margin-left:50rpx;"><image src="{{goodsList[index+1].url}}" mode="aspectFill" lazy-load="{{true}}" data-event-opts="{{[['tap',[['previewImage',['$0'],['goodsList.'+index+1+'.url']]]]]}}" bindtap="__e"></image><view class="{{['yticon icon-xuanzhong2 checkbox',(goodsList[index+1].checked)?'checked':'']}}" data-index="{{index+1}}" data-event-opts="{{[['tap',[['proCheck',['$event']]]]]}}" bindtap="__e"></view></view></block></view></block></block></block></view><uni-load-more style="margin-bottom:50rpx;" vue-id="5510ac96-1" status="{{loadingType}}" bind:__l="__l"></uni-load-more><view data-event-opts="{{[['tap',[['toggleCateMask',['$event']]]]]}}" class="{{['cate-mask',cateMaskState===0?'none':cateMaskState===1?'show':'']}}" bindtap="__e"><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]],['touchmove',[['stopPrevent',['$event']]]]]}}" class="cate-content" catchtap="__e" catchtouchmove="__e"><scroll-view class="cate-list" scroll-y="{{true}}"><block wx:for="{{cateList}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view><view class="cate-item b-b two">{{item.name}}</view><block wx:for="{{item.child}}" wx:for-item="tItem" wx:for-index="__i1__" wx:key="id"><view data-event-opts="{{[['tap',[['changeCate',['$0'],[[['cateList','id',item.id],['child','id',tItem.id]]]]]]]}}" class="{{['cate-item b-b',(tItem.id==cateId)?'active':'']}}" bindtap="__e">{{''+tItem.name+''}}</view></block></view></block><block wx:for="{{groupList}}" wx:for-item="item" wx:for-index="__i2__" wx:key="id"><view><view class="cate-item b-b two">{{item.name}}</view><block wx:for="{{item.child}}" wx:for-item="tItem" wx:for-index="__i3__" wx:key="_id"><view><view class="{{['cate-item b-b v-group-item',(tItem._id==cateGroupId)?'active':'']}}"><view data-event-opts="{{[['tap',[['changeCateGroup',['$0'],[[['groupList','id',item.id],['child','_id',tItem._id]]]]]]]}}" bindtap="__e">{{tItem.name}}</view></view><block wx:if="{{tItem.name!='未分组'}}"><view style="position:flex;float:right;margin-top:-65rpx;margin-right:10px;"><view data-event-opts="{{[['tap',[['editImgGroup',['$0'],[[['groupList','id',item.id],['child','_id',tItem._id]]]]]]]}}" class="tag-view" style="display:inline-block;margin-right:10px;" bindtap="__e"><uni-tag vue-id="{{'5510ac96-2-'+__i2__+'-'+__i3__}}" text="修改" size="small" bind:__l="__l"></uni-tag></view><view data-event-opts="{{[['tap',[['delImgGroup',['$0'],[[['groupList','id',item.id],['child','_id',tItem._id]]]]]]]}}" class="tag-view" style="display:inline-block;" bindtap="__e"><uni-tag vue-id="{{'5510ac96-3-'+__i2__+'-'+__i3__}}" text="删除" type="error" size="small" bind:__l="__l"></uni-tag></view></view></block></view></block></view></block><button class="add-group" style="margin:10px;" type="default" data-event-opts="{{[['tap',[['addImgGroup',['$event']]]]]}}" bindtap="__e">+ 添加图片分组</button></scroll-view></view></view><view class="footer"><block wx:if="{{pageType==0}}"><view class="btn"><button class="cancel" type="default" data-event-opts="{{[['tap',[['uploadImg']]]]}}" bindtap="__e">上传</button><button class="cancel" type="default" data-event-opts="{{[['tap',[['updateGroupOnclick']]]]}}" bindtap="__e">改分组</button><button class="cancel" type="default" data-event-opts="{{[['tap',[['delImgArray']]]]}}" bindtap="__e">删除</button><button class="submit" type="default" data-event-opts="{{[['tap',[['toggleCateMask',['show']]]]]}}" bindtap="__e">分组列表</button></view></block><block wx:if="{{pageType==1}}"><view class="btn"><button class="cancel" type="default" data-event-opts="{{[['tap',[['toGetSource']]]]}}" bindtap="__e">添加选择图片</button><button class="submit" type="default" data-event-opts="{{[['tap',[['toggleCateMask',['show']]]]]}}" bindtap="__e">分组列表</button></view></block></view><uni-popup class="vue-ref" vue-id="5510ac96-4" type="{{type}}" mask-click="{{false}}" data-ref="showtip" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-tip"><text class="uni-tip-title">图片分组</text><input class="uni-input uni-tip-content" name="imgGroup" placeholder="请输入图片分组" data-event-opts="{{[['input',[['setImgGroupValue',['$event']]]]]}}" value="{{imgGroup.name}}" bindinput="__e"/><view class="uni-tip-group-button"><text data-event-opts="{{[['tap',[['cancel',['tip']]]]]}}" class="uni-tip-button" bindtap="__e">取消</text><text data-event-opts="{{[['tap',[['submit',['tip']]]]]}}" class="uni-tip-button" bindtap="__e">确定</text></view></view></uni-popup><uni-popup class="vue-ref" vue-id="5510ac96-5" type="{{type}}" data-ref="showpopup" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-content"><view class="popup-title"><text>分组列表</text></view><block wx:if="{{groupList.length>0}}"><view class="popup-nav"><block wx:for="{{groupList[0].child}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['onSelectedTemplateType',[index]]]]]}}" bindtap="__e"><view class="line"></view><view class="item"><view class="item-content"><text class="item-title">{{item.name}}</text></view></view><block wx:if="{{imgGroupSelected.name==item.name}}"><view class="selected"><text class="icon"></text></view></block></view></block><view class="line"></view></view></block><view class="popup-btn"><button class="cancel" type="default" data-event-opts="{{[['tap',[['cancel',['popup']]]]]}}" bindtap="__e">取消</button><button class="submit" type="default" data-event-opts="{{[['tap',[['submit',['popup']]]]]}}" bindtap="__e">确定</button></view></view></uni-popup></view>